(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-commission-apply"],{"07ed":function(t,e,a){"use strict";var i=a("49ba"),n=a.n(i);n.a},"10b1":function(t,e,a){"use strict";a.r(e);var i=a("c74a"),n=a("e884");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("07ed");var o=a("f0c5"),l=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"7629768e",null,!1,i["a"],void 0);e["default"]=l.exports},"49ba":function(t,e,a){var i=a("57ab");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("b8d7e8e8",i,!0,{sourceMap:!1,shadowMode:!1})},"57ab":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".container[data-v-7629768e]{position:relative;padding:0}.login-bg[data-v-7629768e]{width:%?750?%;height:%?240?%;background:#04babe;position:relative}.login-bg .wave[data-v-7629768e]{width:%?750?%;height:%?38?%;position:absolute;left:0;bottom:0}.login-main[data-v-7629768e]{padding:%?80?% %?80?%;background:hsla(0,0%,100%,.8);margin:%?60?% %?30?% 0 %?30?%;border-radius:%?20?%}.form-item[data-v-7629768e]{display:flex;align-items:center;position:relative;margin-bottom:%?40?%}.form-item .input[data-v-7629768e]{width:100%;border:none;border-bottom:2px solid #04babe;height:%?80?%;line-height:%?80?%;padding:0 %?20?% 0 %?180?%}.form-item .label[data-v-7629768e]{font-size:%?32?%;line-height:%?40?%;position:absolute;left:%?20?%;top:%?20?%}.form-item .icon[data-v-7629768e]{width:%?36?%;height:%?36?%;position:absolute;left:%?20?%;top:%?20?%}.form-item .eye[data-v-7629768e]{width:%?36?%;height:%?36?%;position:absolute;right:%?20?%;top:%?20?%;z-index:10}.form-item .check[data-v-7629768e]{-webkit-transform:scale(.75);transform:scale(.75);margin-right:%?6?%}.form-item .agreement[data-v-7629768e]{font-size:%?28?%;color:#666;display:flex;align-items:center}.form-item .agreement uni-text[data-v-7629768e]{color:#000}.btn-login[data-v-7629768e]{color:#fff;background:#04babe;border-radius:%?44?%;width:100%;height:%?88?%;line-height:%?88?%;text-align:center;font-size:%?32?%;margin:%?100?% auto 0 auto}.audit-result[data-v-7629768e]{text-align:center;margin-top:%?88?%}.audit-result .icon[data-v-7629768e]{width:%?120?%;height:%?120?%}.audit-result .message[data-v-7629768e]{width:100%;line-height:%?44?%;font-size:%?36?%;color:#666;margin-top:%?60?%}.audit-result .time[data-v-7629768e]{width:100%;line-height:%?44?%;font-size:%?24?%;color:#999;margin-top:%?20?%}.audit-result .btn[data-v-7629768e]{width:%?240?%;height:%?60?%;border:1px solid #666;border-radius:%?10?%;line-height:%?60?%;text-align:center;margin:0 auto;margin-top:%?60?%;font-size:%?28?%;color:#666}.audit-result .reject[data-v-7629768e]{font-size:%?28?%;color:red;margin-top:%?40?%;line-height:%?44?%}",""]),t.exports=e},c435:function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("ade3")),s=getApp(),o={data:function(){return{name:"",phone:"",is_agree:!1,pid:0,focus:"",lastApply:null,isEdit:!1}},onLoad:function(t){t.pid&&this.setData({pid:t.pid}),this.getLastApply()},onShow:function(){uni.setNavigationBarTitle({title:this.$lang("申请成为推广员")})},methods:{doSubmit:function(){var t=this,e=this,a=this.name,i=this.phone,n=this.pid,o=this.is_agree;if(a){if(i)return o?void s.globalData.util.request({url:"/commission/apply",data:{name:a,phone:i,pid:n}}).then((function(a){uni.showModal({title:t.$lang("提示"),content:a.message,showCancel:!1,confirmText:t.$lang("确定"),success:function(){e.setData({lastApply:null,isEdit:!1}),e.getLastApply()}})})):(s.globalData.util.message("请阅读并同意《用户推广协议》","error"),void this.setData({is_agree:!0}));s.globalData.util.message("请输入手机号","error")}else s.globalData.util.message("请输入姓名","error")},toAgreement:function(){uni.navigateTo({url:"/pages/article/article?type=commission"})},toCommission:function(){uni.redirectTo({url:"/pages/commission/index"})},toEdit:function(){this.setData({isEdit:!0})},getLastApply:function(){var t=this;s.globalData.util.request({url:"/commission/getLastApply"}).then((function(e){e.data&&t.setData({lastApply:e.data,name:e.data.name,phone:e.data.phone})}))},inputChange:function(t){var e=t.currentTarget.dataset.name,a=t.detail.value;this.setData((0,n.default)({},e,a))},inputFocus:function(t){var e=t.currentTarget.dataset.name;this.setData({focus:e})},inputBlur:function(t){var e=t.currentTarget.dataset.name;this.focus==e&&this.setData({focus:""})},checkboxChange:function(t){var e=t.detail.value;this.setData({is_agree:e.length>0})}}};e.default=o},c74a:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"page"},[a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"login-main"},[t.lastApply&&!t.isEdit?a("v-uni-view",{staticClass:"audit-result"},[0==t.lastApply.status?a("v-uni-view",[a("v-uni-image",{staticClass:"icon",attrs:{src:"/static/images/ic_audit.png"}}),a("v-uni-view",{staticClass:"message"},[t._v(t._s(t._f("lang")("申请已提交，正在审核中")))]),a("v-uni-view",{staticClass:"time"},[t._v(t._s(t.lastApply.create_time)+" 提交")])],1):t._e(),1==t.lastApply.status?a("v-uni-view",[a("v-uni-image",{staticClass:"icon",attrs:{src:"/static/images/ic_pass.png"}}),a("v-uni-view",{staticClass:"message"},[t._v(t._s(t._f("lang")("恭喜你，已通过审核")))]),a("v-uni-view",{staticClass:"time"},[t._v(t._s(t.lastApply.create_time)+" 提交")]),a("v-uni-view",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toCommission.apply(void 0,arguments)}}},[t._v(t._s(t._f("lang")("进入推广中心")))])],1):t._e(),2==t.lastApply.status?a("v-uni-view",[a("v-uni-image",{staticClass:"icon",attrs:{src:"/static/images/ic_reject.png"}}),a("v-uni-view",{staticClass:"message"},[t._v(t._s(t._f("lang")("审核被驳回，可调整后重新提交")))]),a("v-uni-view",{staticClass:"time"},[t._v(t._s(t.lastApply.create_time)+" 提交")]),a("v-uni-view",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toEdit.apply(void 0,arguments)}}},[t._v(t._s(t._f("lang")("返回编辑")))]),a("v-uni-view",{staticClass:"reject"},[t._v("驳回原因："+t._s(t.lastApply.reject_reason?t.lastApply.reject_reason:"无"))])],1):t._e()],1):a("v-uni-view",{staticClass:"login-form"},[a("v-uni-view",{staticClass:"form-item"},[a("v-uni-text",{staticClass:"label"},[t._v(t._s(t._f("lang")("姓名")))]),a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:t._f("lang")("请输入姓名")},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-text",{staticClass:"label"},[t._v(t._s(t._f("lang")("手机")))]),a("v-uni-input",{staticClass:"input",attrs:{type:"text",maxlength:"11",placeholder:t._f("lang")("请输入手机号")},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),a("v-uni-view",{staticClass:"form-item",staticStyle:{display:"flex","align-items":"center","padding-top":"30rpx"}},[a("v-uni-label",{staticClass:"agreement"},[a("v-uni-checkbox-group",{on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.checkboxChange.apply(void 0,arguments)}}},[a("v-uni-checkbox",{staticClass:"check",attrs:{value:!0,checked:t.is_agree,color:"#04BABE"}}),t._v(t._s(t._f("lang")("阅读并同意")))],1)],1),a("v-uni-text",{staticClass:"agreement",staticStyle:{color:"#04babe"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toAgreement.apply(void 0,arguments)}}},[t._v(t._s(t._f("lang")("《用户推广协议》")))])],1),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-button",{staticClass:"btn-login",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.doSubmit.apply(void 0,arguments)}}},[t._v(t._s(t._f("lang")("立即申请")))])],1)],1)],1)],1)],1)},n=[]},e884:function(t,e,a){"use strict";a.r(e);var i=a("c435"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a}}]);
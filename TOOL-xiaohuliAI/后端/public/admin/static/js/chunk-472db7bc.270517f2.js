(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-472db7bc"],{"093a":function(t,e,i){"use strict";i.d(e,"e",(function(){return o})),i.d(e,"d",(function(){return n})),i.d(e,"h",(function(){return s})),i.d(e,"a",(function(){return c})),i.d(e,"l",(function(){return r})),i.d(e,"i",(function(){return d})),i.d(e,"f",(function(){return l})),i.d(e,"b",(function(){return u})),i.d(e,"g",(function(){return p})),i.d(e,"m",(function(){return f})),i.d(e,"c",(function(){return h})),i.d(e,"k",(function(){return v})),i.d(e,"j",(function(){return g}));var a=i("b775");function o(t){return Object(a["a"])({url:"/video/getList",method:"post",data:t})}function n(t){return Object(a["a"])({url:"/video/getInfo",method:"post",data:t})}function s(t){return Object(a["a"])({url:"/video/saveInfo",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/video/del",method:"post",data:t})}function r(t){return Object(a["a"])({url:"/video/setStatus",method:"post",data:t})}function d(t){return Object(a["a"])({url:"/video/setDefault",method:"post",data:t})}function l(t){return Object(a["a"])({url:"/video/getMsgList",method:"post",data:t})}function u(t){return Object(a["a"])({url:"/video/delMsg",method:"post",data:t})}function p(t){return Object(a["a"])({url:"/video/getPublicList",method:"post",data:t})}function f(t){return Object(a["a"])({url:"/video/switchVideoPublic",method:"post",data:t})}function h(t){return Object(a["a"])({url:"/video/delPublicVideo",method:"post",data:t})}function v(t){return Object(a["a"])({url:"/video/setPublicVideoWeight",method:"post",data:t})}function g(t){return Object(a["a"])({url:"/video/setPublicVideoState",method:"post",data:t})}},"09b9":function(t,e,i){"use strict";t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}},"29ca":function(t,e,i){"use strict";var a=i("2b5f"),o=i("45b1"),n=i("064d"),s=i("6337"),c=i("3a4d"),r=i("09b9"),d=i("199e"),l=i("f55d"),u=i("85ec");o("search",(function(t,e,i){return[function(e){var i=c(this),o=s(e)?void 0:l(e,t);return o?a(o,e,i):new RegExp(e)[t](d(i))},function(t){var a=n(this),o=d(t),s=i(e,a,o);if(s.done)return s.value;var c=a.lastIndex;r(c,0)||(a.lastIndex=0);var l=u(a,o);return r(a.lastIndex,c)||(a.lastIndex=c),null===l?-1:l.index}]}))},"4f8d":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container",staticStyle:{padding:"0"}},[i("div",{staticClass:"box-panel",staticStyle:{position:"relative","padding-top":"10px","padding-bottom":"0"}},[i("el-tabs",{staticClass:"search-tabs",on:{"tab-click":t.switchPlatform},model:{value:t.search.platform,callback:function(e){t.$set(t.search,"platform",e)},expression:"search.platform"}},[i("el-tab-pane",{attrs:{label:"Pika",name:"pika"}}),i("el-tab-pane",{attrs:{label:"Runway",name:"runway"}}),i("el-tab-pane",{attrs:{label:"StableVideo",name:"stable"}}),i("el-tab-pane",{attrs:{label:"Sora",name:"sora"}})],1),i("div",{staticClass:"toolbar",staticStyle:{position:"absolute",right:"20px",top:"-10px"}},[i("el-input",{staticClass:"input-with-select",staticStyle:{width:"260px"},attrs:{placeholder:t._f("lang")("关键词"),size:"small",clearable:""},model:{value:t.search.keyword,callback:function(e){t.$set(t.search,"keyword",e)},expression:"search.keyword"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){return t.doSearch()}},slot:"append"})],1)],1)],1),i("div",{staticClass:"box-panel",staticStyle:{"padding-bottom":"10px","margin-bottom":"0"}},[i("div",{staticClass:"video-list"},t._l(t.dataList,(function(e){return i("div",{staticClass:"video-item"},[i("div",{staticClass:"video",class:{active:t.hoverVideoId===e.id},on:{mouseenter:function(i){return t.videoMouseEnter(e.id)},mouseleave:function(i){return t.videoMouseLeave(e.id)},click:function(i){return i.stopPropagation(),t.showVideoDetail(e)}}},[i("video",{attrs:{id:"public_video_"+e.id,muted:"",poster:e.video,src:e.video,loop:"loop",preload:"none"},domProps:{muted:!0}}),i("div",{staticClass:"poster",style:"background-image: url("+e.poster+");"}),t._m(0,!0),i("div",{staticClass:"prompt"},[t._v(t._s(e.prompt))]),i("span",{staticClass:"btn-del",attrs:{title:"移出广场"},on:{click:function(i){return i.stopPropagation(),t.doDel(e.id)}}},[i("i",{staticClass:"el-icon-delete"})])]),i("div",{staticClass:"info"},[i("div",{staticClass:"weight"},[i("label",{attrs:{title:"越大越靠前"}},[t._v("排序")]),i("input",{attrs:{title:"越大越靠前",type:"number",onfocus:"this.select()",placeholder:"大的靠前"},domProps:{value:e.weight},on:{keydown:function(i){return t.setWeight(e.id,i)}}})]),i("div",[i("label",{attrs:{title:"关闭后不在前端展示"}},[t._v("开关")]),i("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(i){return t.setState(e.id,i)}},model:{value:e.is_show,callback:function(i){t.$set(e,"is_show",i)},expression:"item.is_show"}})],1)])])})),0),0===t.dataList.length?i("div",{staticStyle:{"text-align":"center",color:"#999",width:"100%",padding:"20px 0","font-size":"14px"}},[t._v("暂无数据")]):t._e(),i("div",{staticClass:"footer",staticStyle:{"margin-top":"20px"}},[i("el-pagination",{attrs:{"current-page":t.page,"page-size":t.pagesize,layout:"total, prev, pager, next",total:t.dataTotal},on:{"current-change":t.pageChange}})],1),t.activeVideo?i("div",[i("el-dialog",{attrs:{"custom-class":"my-dialog",title:t._f("lang")("查看视频"),width:"928px",visible:!0,"close-on-click-modal":!0,"before-close":t.closeVideoDialog}},[i("div",{staticStyle:{width:"888px",height:"500px",background:"#1f1f1f"}},[i("video",{staticClass:"uni-video-video",staticStyle:{"object-fit":"contain",width:"100%","max-height":"100%"},attrs:{src:t.activeVideo.video,poster:t.activeVideo.poster,loop:"",autoplay:"",playsinline:"",controls:"","play-btn-position":"center"}})]),i("div",{staticStyle:{width:"100%",padding:"20px 20px",background:"#f7f7f8","font-size":"16px"}},[t._v(" Prompt："+t._s(t.activeVideo.prompt)+" ")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"default",icon:"el-icon-close",size:"small"},on:{click:t.closeVideoDialog}},[t._v(t._s(t._f("lang")("关 闭")))])],1)])],1):t._e()])])},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"btn-play"},[i("div",{staticClass:"icon",staticStyle:{"background-image":"url(/static/img/ic_play.png)"}})])}],n=(i("cac0"),i("29ca"),i("093a")),s={data:function(){return{dataList:[],dataTotal:0,page:1,pagesize:20,search:{platform:"pika",keyword:""},activeVideo:null,hoverVideoId:0}},created:function(){this.getList()},methods:{getList:function(){var t=this,e=Object.assign(this.search,{page:this.page,pagesize:this.pagesize});Object(n["g"])(e).then((function(e){t.dataList=e.data.list,t.dataTotal=e.data.count}))},pageChange:function(t){this.page=t,this.getList()},doSearch:function(){this.page=1,this.getList()},switchPlatform:function(){this.dataList=[],this.dataTotal=0,this.doSearch()},showVideoDialog:function(t){this.activeVideo=t},closeVideoDialog:function(){this.activeVideo=null},doDel:function(t){var e=this;this.$confirm("此操作不会删除原视频记录，仅移出作品广场","提示",{confirmButtonText:"确定移出",cancelButtonText:"取消",type:"warning"}).then((function(){Object(n["c"])({id:t}).then((function(t){e.getList(),e.$message.success(t.message)}))}))},showVideoDetail:function(t){this.activeVideo=t},closeVideoDetail:function(){this.activeVideo=null},videoMouseEnter:function(t){this.hoverVideoId&&this.videoMouseOut(this.hoverVideoId),this.hoverVideoId=t,document.getElementById("public_video_"+t).play()},videoMouseLeave:function(t){this.hoverVideoId===t&&(document.getElementById("public_video_"+t).currentTime=0,document.getElementById("public_video_"+t).pause(),this.hoverVideoId=null)},setWeight:function(t,e){var i=this;13===e.keyCode&&Object(n["k"])({id:t,weight:e.target.value}).then((function(t){i.$message.success(t.message),i.getList()}))},setState:function(t,e){var i=this;Object(n["j"])({id:t,state:e}).then((function(t){i.$message.success(t.message),i.getList()}))}}},c=s,r=(i("aebe"),i("76b2")),d=Object(r["a"])(c,a,o,!1,null,"5e829fec",null);e["default"]=d.exports},"50c9":function(t,e,i){},aebe:function(t,e,i){"use strict";i("50c9")}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23cc3f1b"],{"0a24":function(t,e,n){},"3dc5":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container",staticStyle:{"padding-top":"10px"}},[n("el-tabs",{on:{"tab-click":t.switchTab},model:{value:t.tabName,callback:function(e){t.tabName=e},expression:"tabName"}},[n("el-tab-pane",{attrs:{label:t._f("lang")("文档分析 - 参数配置"),name:"doc"}},[n("el-alert",{staticStyle:{width:"800px","margin-top":"20px"},attrs:{type:"info",title:t._f("lang")("说明：本功能仅PC端可用")}}),t.form?n("el-form",{ref:"chatForm",staticStyle:{padding:"30px 0"},attrs:{model:t.form,rules:t.formRules,"label-width":"120px"}},[n("el-form-item",{attrs:{label:t._f("lang")("功能开关"),prop:"is_open"}},[n("el-radio-group",{model:{value:t.form.is_open,callback:function(e){t.$set(t.form,"is_open",e)},expression:"form.is_open"}},[n("el-radio",{staticStyle:{"margin-right":"20px"},attrs:{label:1,size:"mini"}},[t._v(t._s(t._f("lang")("开启")))]),n("el-radio",{attrs:{label:0,size:"mini"}},[t._v(t._s(t._f("lang")("关闭")))])],1)],1),n("el-form-item",{attrs:{label:t._f("lang")("AI引擎"),prop:"ai"}},[n("el-select",{attrs:{size:"small"},model:{value:t.form.ai,callback:function(e){t.$set(t.form,"ai",e)},expression:"form.ai"}},[n("el-option",{attrs:{label:"通义千问 (qwen-long)",value:"tongyi"}})],1),n("p",{staticStyle:{"margin-top":"10px","font-size":"14px"}},[t._v("请在 “系统配置->计费配置” 配置价格")])],1),t.env.shell_exec&&t.env.libreoffice?t._e():n("el-form-item",{attrs:{label:t._f("lang")("环境检查")}},[n("div",{staticStyle:{"padding-top":"10px"}},[n("p",[n("span",{staticStyle:{"margin-right":"15px"}},[t._v("1、是否支持 shell_exec 函数")]),t.env.shell_exec?n("svg-icon",{staticStyle:{"font-size":"16px"},attrs:{"icon-class":"ic_check_success"}}):n("svg-icon",{staticStyle:{"font-size":"16px"},attrs:{"icon-class":"ic_check_fail"}})],1),n("p",[n("span",{staticStyle:{"margin-right":"15px"}},[t._v("2、是否支持 LibreOffice")]),t.env.libreoffice?n("svg-icon",{staticStyle:{"font-size":"16px"},attrs:{"icon-class":"ic_check_success"}}):n("svg-icon",{staticStyle:{"font-size":"16px"},attrs:{"icon-class":"ic_check_fail"}})],1),n("p",{staticStyle:{"margin-top":"10px","font-size":"14px"}},[n("a",{staticClass:"text-primary",attrs:{href:"https://console.ttk.ink/api.php/link/ai/name/doc",target:"_blank"}},[n("i",{staticClass:"el-icon-link"}),t._v(" "+t._s(t._f("lang")("配置教程")))])])])]),n("el-form-item",{attrs:{label:""}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:function(e){return t.doSubmit("chatForm")}}},[t._v(t._s(t._f("lang")("保 存")))])],1)],1):t._e()],1)],1)],1)},a=[],s=n("e089"),c=(n("f17d"),n("6db4")),o=n("90e7"),r=n("e475"),l={data:function(){return{tabName:"doc",env:{shell_exec:!0,libreoffice:!0},form:null,formRules:{is_open:[{required:!0,message:this.$lang("此项必填"),trigger:"blur"}],ai:[{required:!0,message:this.$lang("此项必填"),trigger:"blur"}]}}},computed:Object(s["a"])({},Object(c["b"])(["show_gpt"])),mounted:function(){this.getSetting(),this.checkEnv()},methods:{getSetting:function(){var t=this;Object(o["a"])({name:this.tabName}).then((function(e){t.form=e.data}))},switchTab:function(){this.getSetting()},doSubmit:function(t){var e=this;this.$refs[t].validate((function(t){if(t){if(e.form.is_open&&(!e.env.shell_exec||!e.env.libreoffice))return void e.$message.error("环境检查通过后才能启用开关，请按教程配置环境");Object(o["d"])({name:e.tabName,data:JSON.stringify(e.form)}).then((function(t){e.getSetting(),e.$message.success(t.message)}))}else e.$message.error(e.$lang("请填写必填项"))}))},checkEnv:function(){var t=this;Object(r["a"])().then((function(e){t.env.shell_exec=e.data.shell_exec,t.env.libreoffice=e.data.libreoffice}))}}},f=l,u=(n("4dd6"),n("76b2")),d=Object(u["a"])(f,i,a,!1,null,"4389614e",null);e["default"]=d.exports},"4dd6":function(t,e,n){"use strict";n("0a24")},"90e7":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return o}));var i=n("b775");function a(t){return Object(i["a"])({url:"/setting/getSetting",method:"post",data:t})}function s(t){return Object(i["a"])({url:"/setting/setSetting",method:"post",data:t})}function c(t){return Object(i["a"])({url:"/setting/getSkinList",method:"post",data:t})}function o(t){return Object(i["a"])({url:"/setting/getSystemMenus",method:"post",data:t})}},e475:function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return o}));var i=n("b775");function a(t){return Object(i["a"])({url:"/doc/getDocList",method:"post",data:t})}function s(t){return Object(i["a"])({url:"/doc/getDocTongji",method:"post",data:t})}function c(t){return Object(i["a"])({url:"/doc/checkEnv",method:"post",data:t})}function o(t){return Object(i["a"])({url:"/doc/delDoc",method:"post",data:t})}}}]);
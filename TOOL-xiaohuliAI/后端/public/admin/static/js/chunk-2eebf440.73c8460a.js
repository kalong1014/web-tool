(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2eebf440"],{"09b9":function(t,e,a){"use strict";t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}},2440:function(t,e,a){"use strict";a("e736")},"29ca":function(t,e,a){"use strict";var n=a("2b5f"),i=a("45b1"),o=a("064d"),s=a("6337"),c=a("3a4d"),r=a("09b9"),l=a("199e"),d=a("f55d"),u=a("85ec");i("search",(function(t,e,a){return[function(e){var a=c(this),i=s(e)?void 0:d(e,t);return i?n(i,e,a):new RegExp(e)[t](l(a))},function(t){var n=o(this),i=l(t),s=a(e,n,i);if(s.done)return s.value;var c=n.lastIndex;r(c,0)||(n.lastIndex=0);var d=u(n,i);return r(n.lastIndex,c)||(n.lastIndex=c),null===d?-1:d.index}]}))},"4e9e":function(t,e,a){(function(a){var n,i,o;(function(a,s){i=[],n=s,o="function"===typeof n?n.apply(e,i):n,void 0===o||(t.exports=o)})(0,(function(){"use strict";function e(t,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function n(t,e,a){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){r(n.response,e,a)},n.onerror=function(){console.error("could not download file")},n.send()}function i(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,c=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),r=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(t,e,a){var c=s.URL||s.webkitURL,r=document.createElement("a");e=e||t.name||"download",r.download=e,r.rel="noopener","string"==typeof t?(r.href=t,r.origin===location.origin?o(r):i(r.href)?n(t,e,a):o(r,r.target="_blank")):(r.href=c.createObjectURL(t),setTimeout((function(){c.revokeObjectURL(r.href)}),4e4),setTimeout((function(){o(r)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,a,s){if(a=a||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,s),a);else if(i(t))n(t,a,s);else{var c=document.createElement("a");c.href=t,c.target="_blank",setTimeout((function(){o(c)}))}}:function(t,e,a,i){if(i=i||open("","_blank"),i&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return n(t,e,a);var o="application/octet-stream"===t.type,r=/constructor/i.test(s.HTMLElement)||s.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||o&&r||c)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var t=d.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},d.readAsDataURL(t)}else{var u=s.URL||s.webkitURL,f=u.createObjectURL(t);i?i.location=f:location.href=f,i=null,setTimeout((function(){u.revokeObjectURL(f)}),4e4)}});s.saveAs=r.saveAs=r,t.exports=r}))}).call(this,a("a282"))},d983:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container",staticStyle:{padding:"0"}},[a("div",{staticClass:"search"},[a("p",[a("span",{staticClass:"label"},[t._v(t._s(t._f("lang")("时间"))+"：")]),a("el-date-picker",{staticStyle:{width:"340px"},attrs:{align:"right",type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss","default-time":["00:00:00","23:59:59"],"range-separator":t._f("lang")("至"),"start-placeholder":t._f("lang")("时间开始"),"end-placeholder":t._f("lang")("时间结束"),size:"mini"},on:{change:t.dateChange},model:{value:t.search.date,callback:function(e){t.$set(t.search,"date",e)},expression:"search.date"}}),a("el-radio-group",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini"},on:{change:t.dateTypeChange},model:{value:t.dateType,callback:function(e){t.dateType=e},expression:"dateType"}},[a("el-radio-button",{attrs:{label:"day0"}},[t._v(t._s(t._f("lang")("今天")))]),a("el-radio-button",{attrs:{label:"day1"}},[t._v(t._s(t._f("lang")("昨天")))]),a("el-radio-button",{attrs:{label:"day2"}},[t._v(t._s(t._f("lang")("前天")))])],1)],1),a("p",[a("span",{staticClass:"label"},[t._v(t._s(t._f("lang")("用户ID"))+"：")]),a("el-input",{staticStyle:{width:"120px"},attrs:{type:"text",size:"mini",clearable:"",placeholder:t._f("lang")("请输入用户id")},model:{value:t.search.user_id,callback:function(e){t.$set(t.search,"user_id",e)},expression:"search.user_id"}}),a("span",{staticClass:"label"},[t._v(t._s(t._f("lang")("文档名"))+"：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{type:"text",size:"mini",clearable:"",placeholder:t._f("lang")("请输入关键词")},model:{value:t.search.keyword,callback:function(e){t.$set(t.search,"keyword",e)},expression:"search.keyword"}})],1),a("p",{staticStyle:{"padding-top":"10px"}},[a("span",{staticClass:"label"}),a("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"mini"},on:{click:t.doSearch}},[t._v(t._s(t._f("lang")("筛选")))]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"default",plain:"",size:"mini"},on:{click:t.doInit}},[t._v(t._s(t._f("lang")("重置")))])],1)]),a("div",{staticClass:"box-panel",staticStyle:{"padding-bottom":"10px","margin-bottom":"0"}},[a("el-table",{attrs:{data:t.dataList,stripe:"",size:"medium","header-cell-class-name":"bg-gray"}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80"}}),a("el-table-column",{attrs:{prop:"create_time",label:t._f("lang")("上传时间"),width:"170"}}),a("el-table-column",{attrs:{prop:"user_id",label:t._f("lang")("用户ID"),width:"80"}}),a("el-table-column",{attrs:{prop:"title",label:t._f("lang")("文档名称")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("span",{staticStyle:{"font-size":"32px"}},["pdf"===e.row.ext?a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"ic_doc_pdf"}}):"doc"===e.row.ext||"docx"===e.row.ext?a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"ic_doc_word"}}):"ppt"===e.row.ext||"pptx"===e.row.ext?a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"ic_doc_ppt"}}):"txt"===e.row.ext?a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"ic_doc_txt"}}):"xls"===e.row.ext||"xlsx"===e.row.ext?a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"ic_doc_excel"}}):"zip"===e.row.ext?a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"ic_doc_zip"}}):"url"===e.row.ext?a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"ic_doc_link"}}):a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"ic_doc_unknow"}})],1),a("span",{staticStyle:{"margin-left":"5px"}},[t._v(t._s(e.row.title)+"."+t._s(e.row.ext))])])]}}])}),a("el-table-column",{attrs:{prop:"file_size",label:t._f("lang")("文件大小"),width:"100"}}),a("el-table-column",{attrs:{prop:"user_ip",label:t._f("lang")("用户IP"),width:"180"}}),a("el-table-column",{attrs:{label:t._f("lang")("操作"),width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-download"},nativeOn:{click:function(a){return a.preventDefault(),t.download(e.row.ori_url)}}},[t._v(t._s(t._f("lang")("下载文件")))]),a("el-button",{attrs:{type:"text text-danger",size:"mini",icon:"el-icon-delete"},nativeOn:{click:function(a){return a.preventDefault(),t.doDel(e.row.id)}}},[t._v(t._s(t._f("lang")("删除")))])]}}])})],1),a("div",{staticClass:"footer"},[a("div",{staticClass:"tongji"},[a("i",{staticClass:"el-icon-s-data text-green",staticStyle:{"font-size":"20px"}}),t._v(" "+t._s(t._f("lang")("共"))+" "),a("span",{staticClass:"text-green"},[t._v(" "+t._s(t.tongji.fileCount)+" ")]),t._v(" "+t._s(t._f("lang")("个文档"))+"， "),a("span",{staticClass:"text-danger"},[t._v(" "+t._s(t.tongji.fileSize)+" ")])]),a("el-pagination",{attrs:{"current-page":t.page,"page-size":t.pagesize,layout:"total, prev, pager, next",total:t.dataTotal},on:{"current-change":t.pageChange}})],1)],1)])},i=[],o=(a("cac0"),a("29ca"),a("f7c6"),a("0f4e"),a("f4f1"),a("f208"),a("fb0e"),a("30f8"),a("e475")),s=a("4e9e"),c=a.n(s),r={data:function(){return{dataList:[],dataTotal:0,page:1,pagesize:20,dateType:"",search:{date:[],user_id:"",keyword:""},tongji:{fileCount:0,fileSize:"0",msgCount:0}}},created:function(){this.doInit()},methods:{doInit:function(){this.dateType="",this.search={date:[],user_id:"",keyword:""},this.doSearch()},getDocList:function(){var t=this,e=Object.assign(this.search,{page:this.page,pagesize:this.pagesize});Object(o["c"])(e).then((function(e){t.dataList=e.data.list,t.dataTotal=e.data.count})),1===this.page&&Object(o["d"])(e).then((function(e){t.tongji=e.data}))},tableIndex:function(t){return this.pagesize*(this.page-1)+t+1},pageChange:function(t){this.page=t,this.getDocList()},doSearch:function(){this.page=1,this.getDocList()},dateChange:function(){this.dateType=""},dateTypeChange:function(){var t="",e=this.dateFormat(new Date,"yyyy-MM-dd"),a=this.dateFormat(new Date((new Date).setDate((new Date).getDate()-1)),"yyyy-MM-dd"),n=this.dateFormat(new Date((new Date).setDate((new Date).getDate()-2)),"yyyy-MM-dd");"day0"===this.dateType?t=e:"day1"===this.dateType?t=a:"day2"===this.dateType&&(t=n),this.search.date=[t+" 00:00:00",t+" 23:59:59"]},dateFormat:function(t,e){var a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?a[n]:("00"+a[n]).substr((""+a[n]).length)));return e},doDel:function(t){var e=this;this.$confirm("确定删除吗?","提示",{confirmButtonText:"确定删除",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["b"])({id:t}).then((function(t){e.getDocList(),e.$message.success(t.message)}))}))},download:function(t){var e=t.split("/").pop();console.log(e),c.a.saveAs(t,e)}}},l=r,d=(a("2440"),a("76b2")),u=Object(d["a"])(l,n,i,!1,null,"626d0174",null);e["default"]=u.exports},e475:function(t,e,a){"use strict";a.d(e,"c",(function(){return i})),a.d(e,"d",(function(){return o})),a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return c}));var n=a("b775");function i(t){return Object(n["a"])({url:"/doc/getDocList",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/doc/getDocTongji",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/doc/checkEnv",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/doc/delDoc",method:"post",data:t})}},e736:function(t,e,a){},f208:function(t,e,a){"use strict";var n=a("bbaf"),i=a("add4"),o=a("e0ec"),s=a("218c"),c=a("0257").get,r=RegExp.prototype,l=TypeError;n&&i&&s(r,"dotAll",{configurable:!0,get:function(){if(this!==r){if("RegExp"===o(this))return!!c(this).dotAll;throw new l("Incompatible receiver, RegExp required")}}})},f4f1:function(t,e,a){"use strict";var n=a("bbaf"),i=a("e817"),o=a("9372"),s=a("e253"),c=a("8a85"),r=a("e488"),l=a("1490").f,d=a("3a6e"),u=a("4b9a"),f=a("199e"),p=a("7454"),g=a("8421"),h=a("6abb"),b=a("696a"),v=a("6368"),y=a("c668"),_=a("0257").enforce,w=a("71ff"),m=a("ee0d"),x=a("add4"),S=a("fafb"),k=m("match"),E=i.RegExp,C=E.prototype,D=i.SyntaxError,T=o(C.exec),R=o("".charAt),j=o("".replace),M=o("".indexOf),O=o("".slice),z=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,L=/a/g,I=/a/g,A=new E(L)!==L,U=g.MISSED_STICKY,$=g.UNSUPPORTED_Y,B=n&&(!A||U||x||S||v((function(){return I[k]=!1,E(L)!==L||E(I)===I||"/a/i"!==String(E(L,"i"))}))),H=function(t){for(var e,a=t.length,n=0,i="",o=!1;n<=a;n++)e=R(t,n),"\\"!==e?o||"."!==e?("["===e?o=!0:"]"===e&&(o=!1),i+=e):i+="[\\s\\S]":i+=e+R(t,++n);return i},F=function(t){for(var e,a=t.length,n=0,i="",o=[],s={},c=!1,r=!1,l=0,d="";n<=a;n++){if(e=R(t,n),"\\"===e)e+=R(t,++n);else if("]"===e)c=!1;else if(!c)switch(!0){case"["===e:c=!0;break;case"("===e:T(z,O(t,n+1))&&(n+=2,r=!0),i+=e,l++;continue;case">"===e&&r:if(""===d||y(s,d))throw new D("Invalid capture group name");s[d]=!0,o[o.length]=[d,l],r=!1,d="";continue}r?d+=e:i+=e}return[i,o]};if(s("RegExp",B)){for(var q=function(t,e){var a,n,i,o,s,l,g=d(C,this),h=u(t),b=void 0===e,v=[],y=t;if(!g&&h&&b&&t.constructor===q)return t;if((h||d(C,t))&&(t=t.source,b&&(e=p(y))),t=void 0===t?"":f(t),e=void 0===e?"":f(e),y=t,x&&"dotAll"in L&&(n=!!e&&M(e,"s")>-1,n&&(e=j(e,/s/g,""))),a=e,U&&"sticky"in L&&(i=!!e&&M(e,"y")>-1,i&&$&&(e=j(e,/y/g,""))),S&&(o=F(t),t=o[0],v=o[1]),s=c(E(t,e),g?this:C,q),(n||i||v.length)&&(l=_(s),n&&(l.dotAll=!0,l.raw=q(H(t),a)),i&&(l.sticky=!0),v.length&&(l.groups=v)),t!==y)try{r(s,"source",""===y?"(?:)":y)}catch(w){}return s},Y=l(E),K=0;Y.length>K;)h(q,E,Y[K++]);C.constructor=q,q.prototype=C,b(i,"RegExp",q,{constructor:!0})}w("RegExp")},fb0e:function(t,e,a){"use strict";var n=a("bbaf"),i=a("8421").MISSED_STICKY,o=a("e0ec"),s=a("218c"),c=a("0257").get,r=RegExp.prototype,l=TypeError;n&&i&&s(r,"sticky",{configurable:!0,get:function(){if(this!==r){if("RegExp"===o(this))return!!c(this).sticky;throw new l("Incompatible receiver, RegExp required")}}})}}]);
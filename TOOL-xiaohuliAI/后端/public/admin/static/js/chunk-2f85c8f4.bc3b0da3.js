(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f85c8f4"],{"05fc":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container",staticStyle:{padding:"0"}},[a("div",{staticClass:"search"},[a("p",[a("span",{staticClass:"label"},[t._v(t._s(t._f("lang")("时间"))+"：")]),a("el-date-picker",{staticStyle:{width:"340px"},attrs:{align:"right",type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss","default-time":["00:00:00","23:59:59"],"range-separator":t._f("lang")("至"),"start-placeholder":t._f("lang")("时间开始"),"end-placeholder":t._f("lang")("时间结束"),size:"mini"},on:{change:t.dateChange},model:{value:t.search.date,callback:function(e){t.$set(t.search,"date",e)},expression:"search.date"}}),a("el-radio-group",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini"},on:{change:t.dateTypeChange},model:{value:t.dateType,callback:function(e){t.dateType=e},expression:"dateType"}},[a("el-radio-button",{attrs:{label:"day0"}},[t._v(t._s(t._f("lang")("今天")))]),a("el-radio-button",{attrs:{label:"day1"}},[t._v(t._s(t._f("lang")("昨天")))]),a("el-radio-button",{attrs:{label:"day2"}},[t._v(t._s(t._f("lang")("前天")))])],1)],1),a("p",[a("span",{staticClass:"label"},[t._v(t._s(t._f("lang")("用户ID"))+"：")]),a("el-input",{staticStyle:{width:"120px"},attrs:{type:"text",size:"mini",clearable:"",placeholder:t._f("lang")("请输入用户id")},model:{value:t.search.user_id,callback:function(e){t.$set(t.search,"user_id",e)},expression:"search.user_id"}}),a("span",{staticClass:"label"},[t._v(t._s(t._f("lang")("作品名"))+"：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{type:"text",size:"mini",clearable:"",placeholder:t._f("lang")("请输入关键词")},model:{value:t.search.keyword,callback:function(e){t.$set(t.search,"keyword",e)},expression:"search.keyword"}})],1),a("p",{staticStyle:{"padding-top":"10px"}},[a("span",{staticClass:"label"}),a("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"mini"},on:{click:t.doSearch}},[t._v(t._s(t._f("lang")("筛选")))]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"default",plain:"",size:"mini"},on:{click:t.doInit}},[t._v(t._s(t._f("lang")("重置")))])],1)]),a("div",{staticClass:"box-panel",staticStyle:{"padding-bottom":"10px","margin-bottom":"0"}},[a("el-table",{attrs:{data:t.novelList,stripe:"",size:"medium","header-cell-class-name":"bg-gray"}},[a("el-table-column",{attrs:{prop:"id",label:"作品ID",width:"80"}}),a("el-table-column",{attrs:{prop:"create_time",label:t._f("lang")("创建时间"),width:"170"}}),a("el-table-column",{attrs:{prop:"user_id",label:t._f("lang")("用户ID"),width:"80"}}),a("el-table-column",{attrs:{prop:"title",label:t._f("lang")("作品名称")}}),a("el-table-column",{attrs:{prop:"ai",label:t._f("lang")("AI通道"),width:"130"}}),a("el-table-column",{attrs:{label:t._f("lang")("查看章节"),width:"170"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"large"},on:{click:function(a){return t.showTaskList(e.row.novel_id)}}},[t._v(" "+t._s(e.row.count_finished)+" / "+t._s(e.row.count_total)+" ")])]}}])}),a("el-table-column",{attrs:{label:t._f("lang")("查看详情"),width:"170"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"large"},on:{click:function(a){return t.showNovelDetail(e.row)}}},[t._v("查看详情")])]}}])})],1),a("div",{staticClass:"footer"},[a("el-pagination",{attrs:{"current-page":t.page,"page-size":t.pagesize,layout:"total, prev, pager, next",total:t.novelTotal},on:{"current-change":t.pageChange}})],1),t.taskListShow?a("div",[a("el-dialog",{attrs:{"custom-class":"my-dialog full-dialog",title:t._f("lang")("章节列表"),width:"1400px",visible:!0,"close-on-click-modal":!0,"before-close":t.closeTaskList}},[a("div",{staticStyle:{width:"100%",height:"100%",position:"relative",overflow:"hidden"}},[a("div",{staticStyle:{width:"567px",position:"absolute",left:"0",top:"0",bottom:"0","overflow-x":"hidden","overflow-y":"scroll"}},[a("el-table",{ref:"taskTable",staticStyle:{width:"550px"},attrs:{data:t.taskList,size:"medium","header-cell-class-name":"bg-gray","highlight-current-row":"","row-class-name":"row-class"},on:{"row-click":t.showNovelTaskResponse}},[a("el-table-column",{attrs:{type:"index",label:t._f("lang")("序号"),index:t.tableIndex,width:"50"}}),a("el-table-column",{attrs:{prop:"title",label:t._f("lang")("章节标题"),width:"400"}}),a("el-table-column",{attrs:{prop:"state",label:t._f("lang")("状态"),width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"td state"},[1===e.row.state?a("el-tag",{attrs:{type:"success",size:"small"}},[t._v("已完成")]):a("el-tag",{attrs:{type:"info",size:"small"}},[t._v("未开始")])],1)]}}],null,!1,3649560469)})],1)],1),a("div",{staticClass:"bg-gray",staticStyle:{position:"absolute",left:"567px",top:"0",bottom:"0",right:"0",padding:"30px","box-sizing":"border-box","border-top-right-radius":"10px","border-bottom-right-radius":"10px","overflow-x":"hidden","overflow-y":"scroll"}},[t.activeTask?a("div",[t.activeTask&&t.activeTask.title?a("div",{staticClass:"message"},[a("div",{staticClass:"msgtitle"},[t._v(t._s(t.activeTask.title))])]):a("div",[a("p",{staticStyle:{color:"#999","text-align":"center"}},[t._v("无标题")])]),t.activeTask&&t.activeTask.overview?a("div",{staticClass:"message",staticStyle:{"padding-top":"0"}},[a("div",{staticClass:"msgoverview"},[t._v(t._s("本章概要："+t.activeTask.overview))])]):a("div",{staticClass:"message",staticStyle:{"padding-top":"0"}},[a("p",{staticStyle:{color:"#999","text-align":"center"}},[t._v("无概要")])]),t.activeTask&&t.activeTask.response?a("div",{staticClass:"response"},[a("div",{staticStyle:{width:"100%","font-size":"16px","line-height":"24px",color:"#333"},domProps:{innerHTML:t._s(t.activeTask.response)}})]):a("div",[a("p",{staticClass:"response",staticStyle:{color:"#999","text-align":"center"}},[t._v("无内容")])])]):a("p",{staticClass:"response",staticStyle:{color:"#999","text-align":"center"}},[t._v("无内容")])])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"default",icon:"el-icon-close",size:"small"},on:{click:t.closeTaskList}},[t._v(t._s(t._f("lang")("关 闭")))])],1)])],1):t._e(),t.activeNovel?a("div",[a("el-dialog",{attrs:{"custom-class":"my-dialog",title:t._f("lang")("作品详情"),width:"880px",visible:!0,"close-on-click-modal":!0,"before-close":t.closeNovelDetail}},[a("el-form",{ref:"drawForm",staticStyle:{"padding-right":"30px"},attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:t._f("lang")("作品名称"),prop:"platform"}},[a("p",{staticStyle:{"line-height":"1.6","font-size":"16px","margin-top":"7px","margin-bottom":"0"}},[t._v(t._s(t.activeNovel.title||"无"))])]),a("el-form-item",{attrs:{label:t._f("lang")("作品要求"),prop:"platform"}},[a("p",{staticStyle:{"line-height":"1.6","font-size":"16px","margin-top":"7px","margin-bottom":"0"}},[t._v(t._s(t.activeNovel.prompt||"无"))])]),a("el-form-item",{attrs:{label:t._f("lang")("作品大纲"),prop:"platform"}},[a("p",{staticStyle:{"line-height":"1.6","font-size":"16px","margin-top":"7px","margin-bottom":"0"}},[t._v(t._s(t.activeNovel.sketch||"无"))])])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"default",icon:"el-icon-close",size:"small"},on:{click:t.closeNovelDetail}},[t._v(t._s(t._f("lang")("关 闭")))])],1)],1)],1):t._e()],1)])},i=[],l=(a("cac0"),a("29ca"),a("f7c6"),a("0f4e"),a("f4f1"),a("f208"),a("fb0e"),a("30f8"),a("a7fa"),a("b775"));function n(t){return Object(l["a"])({url:"/novel/getNovelList",method:"post",data:t})}function o(t){return Object(l["a"])({url:"/novel/getTaskList",method:"post",data:t})}var r={data:function(){return{novelList:[],novelTotal:0,page:1,pagesize:20,dateType:"",search:{date:[],user_id:"",keyword:""},taskListShow:!1,taskList:null,activeTask:null,activeNovel:null}},created:function(){this.doInit()},methods:{doInit:function(){this.dateType="",this.search={date:[],user_id:"",keyword:""},this.doSearch()},getNovelList:function(){var t=this,e=Object.assign(this.search,{page:this.page,pagesize:this.pagesize});n(e).then((function(e){t.novelList=e.data.list,t.novelTotal=e.data.count}))},tableIndex:function(t){return this.pagesize*(this.page-1)+t+1},pageChange:function(t){this.page=t,this.getNovelList()},doSearch:function(){this.page=1,this.getNovelList()},dateChange:function(){this.dateType=""},dateTypeChange:function(){var t="",e=this.dateFormat(new Date,"yyyy-MM-dd"),a=this.dateFormat(new Date((new Date).setDate((new Date).getDate()-1)),"yyyy-MM-dd"),s=this.dateFormat(new Date((new Date).setDate((new Date).getDate()-2)),"yyyy-MM-dd");"day0"===this.dateType?t=e:"day1"===this.dateType?t=a:"day2"===this.dateType&&(t=s),this.search.date=[t+" 00:00:00",t+" 23:59:59"]},dateFormat:function(t,e){var a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var s in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+s+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?a[s]:("00"+a[s]).substr((""+a[s]).length)));return e},showTaskList:function(t){var e=this;o({id:t}).then((function(t){e.taskListShow=!0,e.taskList=t.data.list,e.taskList.length>0&&(e.activeTask=e.taskList[0])}))},closeTaskList:function(){this.taskListShow=!1,this.taskList=null,this.activeTask=null},showNovelDetail:function(t){this.activeNovel=t},closeNovelDetail:function(){this.activeNovel=null},showNovelTaskResponse:function(t){this.activeTask=t},delNovel:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){var e=this;this.$confirm("确定删除吗?","提示",{confirmButtonText:"确定删除",cancelButtonText:"取消",type:"warning"}).then((function(){delNovel({id:t}).then((function(t){e.getNovelList(),e.$message.success(t.message)}))}))}))}},c=r,d=(a("09bf"),a("2130"),a("76b2")),p=Object(d["a"])(c,s,i,!1,null,"2c8362ea",null);e["default"]=p.exports},"09b9":function(t,e,a){"use strict";t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}},"09bf":function(t,e,a){"use strict";a("666d")},2130:function(t,e,a){"use strict";a("44eb")},"29ca":function(t,e,a){"use strict";var s=a("2b5f"),i=a("45b1"),l=a("064d"),n=a("6337"),o=a("3a4d"),r=a("09b9"),c=a("199e"),d=a("f55d"),p=a("85ec");i("search",(function(t,e,a){return[function(e){var a=o(this),i=n(e)?void 0:d(e,t);return i?s(i,e,a):new RegExp(e)[t](c(a))},function(t){var s=l(this),i=c(t),n=a(e,s,i);if(n.done)return n.value;var o=s.lastIndex;r(o,0)||(s.lastIndex=0);var d=p(s,i);return r(s.lastIndex,o)||(s.lastIndex=o),null===d?-1:d.index}]}))},"44eb":function(t,e,a){},"666d":function(t,e,a){},f208:function(t,e,a){"use strict";var s=a("bbaf"),i=a("add4"),l=a("e0ec"),n=a("218c"),o=a("0257").get,r=RegExp.prototype,c=TypeError;s&&i&&n(r,"dotAll",{configurable:!0,get:function(){if(this!==r){if("RegExp"===l(this))return!!o(this).dotAll;throw new c("Incompatible receiver, RegExp required")}}})},f4f1:function(t,e,a){"use strict";var s=a("bbaf"),i=a("e817"),l=a("9372"),n=a("e253"),o=a("8a85"),r=a("e488"),c=a("1490").f,d=a("3a6e"),p=a("4b9a"),u=a("199e"),f=a("7454"),g=a("8421"),h=a("6abb"),v=a("696a"),b=a("6368"),y=a("c668"),m=a("0257").enforce,_=a("71ff"),w=a("ee0d"),x=a("add4"),k=a("fafb"),S=w("match"),T=i.RegExp,C=T.prototype,z=i.SyntaxError,L=l(C.exec),D=l("".charAt),E=l("".replace),N=l("".indexOf),I=l("".slice),R=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,M=/a/g,$=/a/g,O=new T(M)!==M,A=g.MISSED_STICKY,F=g.UNSUPPORTED_Y,j=s&&(!O||A||x||k||b((function(){return $[S]=!1,T(M)!==M||T($)===$||"/a/i"!==String(T(M,"i"))}))),H=function(t){for(var e,a=t.length,s=0,i="",l=!1;s<=a;s++)e=D(t,s),"\\"!==e?l||"."!==e?("["===e?l=!0:"]"===e&&(l=!1),i+=e):i+="[\\s\\S]":i+=e+D(t,++s);return i},Y=function(t){for(var e,a=t.length,s=0,i="",l=[],n={},o=!1,r=!1,c=0,d="";s<=a;s++){if(e=D(t,s),"\\"===e)e+=D(t,++s);else if("]"===e)o=!1;else if(!o)switch(!0){case"["===e:o=!0;break;case"("===e:L(R,I(t,s+1))&&(s+=2,r=!0),i+=e,c++;continue;case">"===e&&r:if(""===d||y(n,d))throw new z("Invalid capture group name");n[d]=!0,l[l.length]=[d,c],r=!1,d="";continue}r?d+=e:i+=e}return[i,l]};if(n("RegExp",j)){for(var q=function(t,e){var a,s,i,l,n,c,g=d(C,this),h=p(t),v=void 0===e,b=[],y=t;if(!g&&h&&v&&t.constructor===q)return t;if((h||d(C,t))&&(t=t.source,v&&(e=f(y))),t=void 0===t?"":u(t),e=void 0===e?"":u(e),y=t,x&&"dotAll"in M&&(s=!!e&&N(e,"s")>-1,s&&(e=E(e,/s/g,""))),a=e,A&&"sticky"in M&&(i=!!e&&N(e,"y")>-1,i&&F&&(e=E(e,/y/g,""))),k&&(l=Y(t),t=l[0],b=l[1]),n=o(T(t,e),g?this:C,q),(s||i||b.length)&&(c=m(n),s&&(c.dotAll=!0,c.raw=q(H(t),a)),i&&(c.sticky=!0),b.length&&(c.groups=b)),t!==y)try{r(n,"source",""===y?"(?:)":y)}catch(_){}return n},P=c(T),B=0;P.length>B;)h(q,T,P[B++]);C.constructor=q,q.prototype=C,v(i,"RegExp",q,{constructor:!0})}_("RegExp")},fb0e:function(t,e,a){"use strict";var s=a("bbaf"),i=a("8421").MISSED_STICKY,l=a("e0ec"),n=a("218c"),o=a("0257").get,r=RegExp.prototype,c=TypeError;s&&i&&n(r,"sticky",{configurable:!0,get:function(){if(this!==r){if("RegExp"===l(this))return!!o(this).sticky;throw new c("Incompatible receiver, RegExp required")}}})}}]);
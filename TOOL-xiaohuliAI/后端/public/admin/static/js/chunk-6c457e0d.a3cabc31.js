(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c457e0d"],{"09b9":function(t,e,a){"use strict";t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}},"29ca":function(t,e,a){"use strict";var s=a("2b5f"),i=a("45b1"),n=a("064d"),o=a("6337"),l=a("3a4d"),r=a("09b9"),c=a("199e"),p=a("f55d"),u=a("85ec");i("search",(function(t,e,a){return[function(e){var a=l(this),i=o(e)?void 0:p(e,t);return i?s(i,e,a):new RegExp(e)[t](c(a))},function(t){var s=n(this),i=c(t),o=a(e,s,i);if(o.done)return o.value;var l=s.lastIndex;r(l,0)||(s.lastIndex=0);var p=u(s,i);return r(s.lastIndex,l)||(s.lastIndex=l),null===p?-1:p.index}]}))},"5bbb":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container",staticStyle:{padding:"0"}},[a("div",{staticClass:"box-panel",staticStyle:{"padding-top":"10px","padding-bottom":"0"}},[a("el-tabs",{staticClass:"search-tabs",on:{"tab-click":t.switchPlatform},model:{value:t.search.platform,callback:function(e){t.$set(t.search,"platform",e)},expression:"search.platform"}},[a("el-tab-pane",{attrs:{label:"SunoAI",name:"suno"}})],1),a("div",{staticClass:"search"},[a("p",[a("span",{staticClass:"label"},[t._v(t._s(t._f("lang")("时间"))+"：")]),a("el-date-picker",{staticStyle:{width:"340px"},attrs:{align:"right",type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss","default-time":["00:00:00","23:59:59"],"range-separator":t._f("lang")("至"),"start-placeholder":t._f("lang")("时间开始"),"end-placeholder":t._f("lang")("时间结束"),size:"mini"},on:{change:t.dateChange},model:{value:t.search.date,callback:function(e){t.$set(t.search,"date",e)},expression:"search.date"}}),a("el-radio-group",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini"},on:{change:t.dateTypeChange},model:{value:t.dateType,callback:function(e){t.dateType=e},expression:"dateType"}},[a("el-radio-button",{attrs:{label:"day0"}},[t._v(t._s(t._f("lang")("今天")))]),a("el-radio-button",{attrs:{label:"day1"}},[t._v(t._s(t._f("lang")("昨天")))]),a("el-radio-button",{attrs:{label:"day2"}},[t._v(t._s(t._f("lang")("前天")))])],1)],1),a("p",[a("span",{staticClass:"label"},[t._v(t._s(t._f("lang")("用户ID"))+"：")]),a("el-input",{staticStyle:{width:"120px"},attrs:{type:"text",size:"mini",clearable:"",placeholder:t._f("lang")("请输入用户id")},model:{value:t.search.user_id,callback:function(e){t.$set(t.search,"user_id",e)},expression:"search.user_id"}}),a("span",{staticClass:"label"},[t._v(t._s(t._f("lang")("关键词"))+"：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{type:"text",size:"mini",clearable:"",placeholder:t._f("lang")("请输入关键词")},model:{value:t.search.keyword,callback:function(e){t.$set(t.search,"keyword",e)},expression:"search.keyword"}})],1),a("p",{staticStyle:{"padding-top":"10px"}},[a("span",{staticClass:"label"}),a("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"mini"},on:{click:t.doSearch}},[t._v(t._s(t._f("lang")("筛选")))]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"default",plain:"",size:"mini"},on:{click:t.doInit}},[t._v(t._s(t._f("lang")("重置")))])],1)])],1),a("div",{staticClass:"box-panel",staticStyle:{"padding-bottom":"10px","margin-bottom":"0"}},[a("el-table",{attrs:{data:t.dataList,stripe:"",size:"medium","header-cell-class-name":"bg-gray"}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"60"}}),a("el-table-column",{attrs:{prop:"create_time",label:t._f("lang")("时间"),width:"170"}}),a("el-table-column",{attrs:{prop:"user_id",label:t._f("lang")("用户ID"),width:"80"}}),a("el-table-column",{attrs:{label:t._f("lang")("用户输入")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",{staticStyle:{margin:"0"}},[a("span",{staticClass:"label"},[t._v("【模式】")]),1===e.row.options.custom_mode?a("span",[t._v("专业模式")]):a("span",[t._v("灵感模式")])]),a("p",{staticStyle:{margin:"0"}},[a("span",{staticClass:"label"},[t._v("【类型】")]),1===e.row.options.make_instrumental?a("span",[t._v("纯音乐")]):a("span",[t._v("歌曲")])]),e.row.options.prompt?a("p",{staticStyle:{margin:"0"}},[1===e.row.options.custom_mode?a("span",{staticClass:"label"},[t._v("【歌词】")]):a("span",{staticClass:"label"},[t._v("【描述】")]),e.row.options.prompt.length>40?a("span",[t._v(t._s(e.row.options.prompt.substring(0,40))+"..."),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"text",size:"small"},on:{click:function(a){return t.showPromptDialog(e.row.options.prompt)}}},[t._v(t._s(t._f("lang")("查看原文")))])],1):a("span",[t._v(t._s(e.row.options.prompt))])]):t._e(),e.row.options.title?a("p",{staticStyle:{margin:"0"}},[a("span",{staticClass:"label"},[t._v("【歌名】")]),a("span",[t._v(t._s(e.row.options.title))])]):t._e(),e.row.options.tags?a("p",{staticStyle:{margin:"0"}},[a("span",{staticClass:"label"},[t._v("【曲风】")]),a("span",[t._v(t._s(e.row.options.tags))])]):t._e()]}}])}),a("el-table-column",{attrs:{label:t._f("lang")("AI输出"),width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.state?a("span",{staticClass:"text-green"},[t._v(t._s(t._f("lang")("生成中")))]):t._e(),2===e.row.state?a("span",[t._v(t._s(t._f("lang")("生成失败"))+"："+t._s(e.row.errmsg))]):t._e(),1===e.row.state?a("div",{staticStyle:{display:"flex","align-items":"center"}},[e.row.result1&&e.row.result1.video_url?a("div",{staticClass:"video",on:{click:function(a){return t.showMusicDialog(e.row.result1)}}},[a("img",{staticClass:"thumb",attrs:{src:e.row.result1.image_url}}),a("div",{staticClass:"btn-play"},[a("svg-icon",{attrs:{"icon-class":"ic_music_play"}})],1)]):t._e(),e.row.result2&&e.row.result2.video_url?a("div",{staticClass:"video",on:{click:function(a){return t.showMusicDialog(e.row.result2)}}},[a("img",{staticClass:"thumb",attrs:{src:e.row.result2.image_url}}),a("div",{staticClass:"btn-play"},[a("svg-icon",{attrs:{"icon-class":"ic_music_play"}})],1)]):t._e()]):t._e()]}}])}),a("el-table-column",{attrs:{label:t._f("lang")("AI通道"),width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return["suno"===e.row.platform?a("span",[t._v("SunoAI")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"user_ip",label:t._f("lang")("用户IP"),width:"180"}}),a("el-table-column",{attrs:{label:t._f("lang")("操作"),width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text text-danger",size:"mini",icon:"el-icon-delete"},nativeOn:{click:function(a){return a.preventDefault(),t.doDel(e.row.id)}}},[t._v(t._s(t._f("lang")("删除")))])]}}])})],1),a("div",{staticClass:"footer"},[a("el-pagination",{attrs:{"current-page":t.page,"page-size":t.pagesize,layout:"total, prev, pager, next",total:t.dataTotal},on:{"current-change":t.pageChange}})],1),t.activeMusic?a("div",[a("el-dialog",{attrs:{"custom-class":"my-dialog",title:t._f("lang")("查看音乐"),width:"520px",visible:!0,"close-on-click-modal":!0,"before-close":t.closeMusicDialog}},[a("div",{staticStyle:{width:"480px",height:"720px","text-align":"center",background:"#1f1f1f","border-radius":"5px","margin-top":"-15px",overflow:"hidden"}},[a("video",{staticClass:"uni-video-video",staticStyle:{"object-fit":"contain",width:"100%","max-height":"100%"},attrs:{src:t.activeMusic.video_url,poster:t.activeMusic.image_large_url,loop:"",autoplay:"",playsinline:"",controls:"",disablepictureinpicture:"",controlslist:"nodownload noplaybackrate","play-btn-position":"center"}})]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"default",icon:"el-icon-close",size:"small"},on:{click:t.closeMusicDialog}},[t._v(t._s(t._f("lang")("关 闭")))])],1)])],1):t._e(),t.activePrompt?a("div",[a("el-dialog",{attrs:{"custom-class":"my-dialog full-dialog",title:t._f("lang")("内容"),width:"800px",visible:!0,"close-on-click-modal":!0,"before-close":t.closePromptDialog}},[a("div",{staticStyle:{padding:"0","font-size":"16px","line-height":"24px",color:"#333"}},[a("span",{domProps:{innerHTML:t._s(t.activePrompt)}})]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"default",icon:"el-icon-close",size:"small"},on:{click:t.closePromptDialog}},[t._v(t._s(t._f("lang")("关 闭")))])],1)])],1):t._e()],1)])},i=[],n=(a("cac0"),a("29ca"),a("f7c6"),a("0f4e"),a("f4f1"),a("f208"),a("fb0e"),a("30f8"),a("8198"),a("b775"));function o(t){return Object(n["a"])({url:"/music/getMsgList",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/music/delMsg",method:"post",data:t})}function r(t){return Object(n["a"])({url:"/music/switchMusicPublic",method:"post",data:t})}var c={data:function(){return{dataList:[],dataTotal:0,page:1,pagesize:20,dateType:"",search:{platform:"suno",date:[],user_id:"",keyword:""},activeMusic:null,activePrompt:""}},created:function(){this.doInit()},methods:{doInit:function(){this.dateType="",this.search={platform:"suno",date:[],user_id:"",keyword:""},this.doSearch()},getList:function(){var t=this,e=Object.assign(this.search,{page:this.page,pagesize:this.pagesize});o(e).then((function(e){t.dataList=e.data.list,t.dataTotal=e.data.count}))},tableIndex:function(t){return this.pagesize*(this.page-1)+t+1},pageChange:function(t){this.page=t,this.getList()},doSearch:function(){this.page=1,this.getList()},switchPlatform:function(){this.dataList=[],this.dataTotal=0,this.doSearch()},dateChange:function(){this.dateType=""},dateTypeChange:function(){var t="",e=this.dateFormat(new Date,"yyyy-MM-dd"),a=this.dateFormat(new Date((new Date).setDate((new Date).getDate()-1)),"yyyy-MM-dd"),s=this.dateFormat(new Date((new Date).setDate((new Date).getDate()-2)),"yyyy-MM-dd");"day0"===this.dateType?t=e:"day1"===this.dateType?t=a:"day2"===this.dateType&&(t=s),this.search.date=[t+" 00:00:00",t+" 23:59:59"]},dateFormat:function(t,e){var a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var s in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+s+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?a[s]:("00"+a[s]).substr((""+a[s]).length)));return e},showMusicDialog:function(t){console.log(t),this.activeMusic=t},closeMusicDialog:function(){this.activeMusic=null},showPromptDialog:function(t){this.activePrompt=t.replaceAll("\n","<br>")},closePromptDialog:function(){this.activePrompt=""},doDel:function(t){var e=this;this.$confirm("确定删除吗?","提示",{confirmButtonText:"确定删除",cancelButtonText:"取消",type:"warning"}).then((function(){l({id:t}).then((function(t){e.getList(),e.$message.success(t.message)}))}))},setPublic:function(t){var e=this;r({id:t}).then((function(t){e.$message.success(t.message),e.getList()}))}}},p=c,u=(a("e4b7"),a("76b2")),d=Object(u["a"])(p,s,i,!1,null,"7e643965",null);e["default"]=d.exports},8198:function(t,e,a){"use strict";var s=a("a158"),i=a("2b5f"),n=a("9372"),o=a("3a4d"),l=a("3144"),r=a("6337"),c=a("4b9a"),p=a("199e"),u=a("f55d"),d=a("7454"),g=a("1ac7"),f=a("ee0d"),h=a("c9d8"),m=f("replace"),_=TypeError,b=n("".indexOf),v=n("".replace),y=n("".slice),w=Math.max,x=function(t,e,a){return a>t.length?-1:""===e?a:b(t,e,a)};s({target:"String",proto:!0},{replaceAll:function(t,e){var a,s,n,f,S,k,C,M,D,E=o(this),T=0,I=0,z="";if(!r(t)){if(a=c(t),a&&(s=p(o(d(t))),!~b(s,"g")))throw new _("`.replaceAll` does not allow non-global regexes");if(n=u(t,m),n)return i(n,t,E,e);if(h&&a)return v(p(E),t,e)}f=p(E),S=p(t),k=l(e),k||(e=p(e)),C=S.length,M=w(1,C),T=x(f,S,0);while(-1!==T)D=k?p(e(S,T,f)):g(S,f,T,[],void 0,e),z+=y(f,I,T)+D,I=T+C,T=x(f,S,T+M);return I<f.length&&(z+=y(f,I)),z}})},9540:function(t,e,a){},e4b7:function(t,e,a){"use strict";a("9540")},f208:function(t,e,a){"use strict";var s=a("bbaf"),i=a("add4"),n=a("e0ec"),o=a("218c"),l=a("0257").get,r=RegExp.prototype,c=TypeError;s&&i&&o(r,"dotAll",{configurable:!0,get:function(){if(this!==r){if("RegExp"===n(this))return!!l(this).dotAll;throw new c("Incompatible receiver, RegExp required")}}})},f4f1:function(t,e,a){"use strict";var s=a("bbaf"),i=a("e817"),n=a("9372"),o=a("e253"),l=a("8a85"),r=a("e488"),c=a("1490").f,p=a("3a6e"),u=a("4b9a"),d=a("199e"),g=a("7454"),f=a("8421"),h=a("6abb"),m=a("696a"),_=a("6368"),b=a("c668"),v=a("0257").enforce,y=a("71ff"),w=a("ee0d"),x=a("add4"),S=a("fafb"),k=w("match"),C=i.RegExp,M=C.prototype,D=i.SyntaxError,E=n(M.exec),T=n("".charAt),I=n("".replace),z=n("".indexOf),P=n("".slice),R=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,A=/a/g,$=/a/g,L=new C(A)!==A,O=f.MISSED_STICKY,j=f.UNSUPPORTED_Y,F=s&&(!L||O||x||S||_((function(){return $[k]=!1,C(A)!==A||C($)===$||"/a/i"!==String(C(A,"i"))}))),H=function(t){for(var e,a=t.length,s=0,i="",n=!1;s<=a;s++)e=T(t,s),"\\"!==e?n||"."!==e?("["===e?n=!0:"]"===e&&(n=!1),i+=e):i+="[\\s\\S]":i+=e+T(t,++s);return i},Y=function(t){for(var e,a=t.length,s=0,i="",n=[],o={},l=!1,r=!1,c=0,p="";s<=a;s++){if(e=T(t,s),"\\"===e)e+=T(t,++s);else if("]"===e)l=!1;else if(!l)switch(!0){case"["===e:l=!0;break;case"("===e:E(R,P(t,s+1))&&(s+=2,r=!0),i+=e,c++;continue;case">"===e&&r:if(""===p||b(o,p))throw new D("Invalid capture group name");o[p]=!0,n[n.length]=[p,c],r=!1,p="";continue}r?p+=e:i+=e}return[i,n]};if(o("RegExp",F)){for(var q=function(t,e){var a,s,i,n,o,c,f=p(M,this),h=u(t),m=void 0===e,_=[],b=t;if(!f&&h&&m&&t.constructor===q)return t;if((h||p(M,t))&&(t=t.source,m&&(e=g(b))),t=void 0===t?"":d(t),e=void 0===e?"":d(e),b=t,x&&"dotAll"in A&&(s=!!e&&z(e,"s")>-1,s&&(e=I(e,/s/g,""))),a=e,O&&"sticky"in A&&(i=!!e&&z(e,"y")>-1,i&&j&&(e=I(e,/y/g,""))),S&&(n=Y(t),t=n[0],_=n[1]),o=l(C(t,e),f?this:M,q),(s||i||_.length)&&(c=v(o),s&&(c.dotAll=!0,c.raw=q(H(t),a)),i&&(c.sticky=!0),_.length&&(c.groups=_)),t!==b)try{r(o,"source",""===b?"(?:)":b)}catch(y){}return o},B=c(C),J=0;B.length>J;)h(q,C,B[J++]);M.constructor=q,q.prototype=M,m(i,"RegExp",q,{constructor:!0})}y("RegExp")},fb0e:function(t,e,a){"use strict";var s=a("bbaf"),i=a("8421").MISSED_STICKY,n=a("e0ec"),o=a("218c"),l=a("0257").get,r=RegExp.prototype,c=TypeError;s&&i&&o(r,"sticky",{configurable:!0,get:function(){if(this!==r){if("RegExp"===n(this))return!!l(this).sticky;throw new c("Incompatible receiver, RegExp required")}}})}}]);
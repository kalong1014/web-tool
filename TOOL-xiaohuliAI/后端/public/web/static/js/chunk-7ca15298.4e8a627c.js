(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ca15298"],{"3e9d":function(e,t,i){},"82e0":function(e,t,i){},d10e:function(e,t,i){"use strict";i("82e0")},d266:function(e,t,i){"use strict";i("3e9d")},ea39:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{mobile:e.isMobile,opened:e.treeOpened,closed:!e.treeOpened}},[i("div",{staticClass:"fox-tree"},[i("div",{staticClass:"box-search"},[i("el-input",{attrs:{placeholder:e._f("lang")("输入关键词"),"prefix-icon":"el-icon-search",clearable:""},on:{input:e.doSearch},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1),i("el-tree",{ref:"tree",attrs:{data:e.articleTree,props:e.treeProps,"highlight-current":!0,"default-expand-all":!0,"render-content":e.renderTreeContent,"filter-node-method":e.treeFilter,"node-key":"key","empty-text":e._f("lang")("无数据")},on:{"node-click":e.handleNodeClick}})],1),i("div",{staticClass:"book-main"},[i("div",{staticClass:"content",domProps:{innerHTML:e._s(e.article.content)}})])])},n=[],c=(i("cac0"),i("29ca"),i("c9c8"),i("3b04"),i("a7fa"),i("b775"));function o(e){return Object(c["a"])({url:"/article/getArticleTree",method:"post",data:e})}function s(e){return Object(c["a"])({url:"/article/getArticle",method:"post",data:e})}var l={data:function(){return{sitecode:"",articleId:0,type:"",isMobile:!0,treeOpened:!0,articleTree:[],article:{},treeProps:{children:"son",label:"title"},keyword:""}},watch:{"$route.query":function(e){e.type&&(this.type=e.type,"help"===this.type&&e.id&&(this.articleId=e.id),this.getArticle())}},created:function(){var e=window.location.search.substr(1,4);e&&(this.sitecode=e);var t=this.$route.query;if(t.type){if(this.type=t.type,"help"===this.type){if(!t.id)return;this.articleId=t.id}this.getArticle()}},mounted:function(){var e=this;this.isMobile=document.body.clientWidth<980,this.isMobile&&setTimeout((function(){e.treeOpened=!1}),800),this.getArticleTree(),window.onresize=function(){document.body.clientWidth<980?(e.isMobile=!0,e.treeOpened=!1):(e.isMobile=!1,e.treeOpened=!0)}},beforeDestroy:function(){window.onresize=null},methods:{getArticleTree:function(){var e=this;o({sitecode:this.sitecode}).then((function(t){e.articleTree=t.data,setTimeout((function(){if(e.type){var t=e.type;"help"===e.type&&(!e.articleId&&e.articleTree[0]["son"].length>0&&(e.articleId=e.articleTree[0]["son"][0]["id"],e.getArticle()),t+=e.articleId),e.$refs.tree.setCurrentKey(t)}}),10)}))},renderTreeContent:function(e,t){t.node;var i=t.data,r=(t.store,this.$lang(i.title));return i.isFolder?e("span",{style:"font-weight:bold;"},[r]):e("span",{class:"has-icon"},[e("i",{class:"el-icon-document"}),e("span",[r])])},handleNodeClick:function(e){if(!e.isFolder){if("help"===this.type){if(this.articleId===e.id)return}else if(this.type===e.type)return;this.$router.push({name:"Doc",query:{type:e.type,id:e.id}}).catch((function(e){})),this.treeOpened=!1}},getArticle:function(){var e=this;this.type||this.articleId?s({sitecode:this.sitecode,type:this.type,id:this.articleId}).then((function(t){e.article=t.data})):this.article={title:"",content:""}},treeFilter:function(e,t){return!e||-1!==t.title.indexOf(e)},doSearch:function(){this.$refs.tree.filter(this.keyword)},treeToggle:function(){this.treeOpened=!this.treeOpened}}},a=l,d=(i("d266"),i("d10e"),i("76b2")),u=Object(d["a"])(a,r,n,!1,null,"36761b0b",null);t["default"]=u.exports}}]);